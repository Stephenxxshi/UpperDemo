<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Plant01.WpfUI.Controls"
    xmlns:converters="clr-namespace:Plant01.WpfUI.Converters"
    xmlns:local="clr-namespace:Plant01.WpfUI.Themes">

    <!--
        Reuse Loading Spinner from AntButton if possible, or redefine it.
        Since it's in AntButton.xaml, it might not be available here unless we merge it or redefine.
        Safest to redefine or put in a shared dictionary. For now, redefine.
    -->
    <Style x:Key="AntDesign.LoadingSpinner.Radio" TargetType="Path">
        <Setter Property="RenderTransformOrigin" Value="0.5, 0.5" />
        <Setter Property="Data" Value="M 7 1 A 6 6 0 1 1 1 7" />
        <Setter Property="Stroke" Value="{Binding RelativeSource={RelativeSource AncestorType=Control}, Path=Foreground}" />
        <Setter Property="StrokeThickness" Value="1.5" />
        <Setter Property="Fill" Value="Transparent" />
        <Setter Property="Width" Value="14" />
        <Setter Property="Height" Value="14" />
        <Setter Property="Stretch" Value="None" />
        <Style.Triggers>
            <EventTrigger RoutedEvent="Loaded">
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation
                            RepeatBehavior="Forever"
                            Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                            From="0"
                            To="360"
                            Duration="0:0:1" />
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </Style.Triggers>
    </Style>

    <Style TargetType="{x:Type controls:AntRadioButton}">
        <Style.Triggers>
            <Trigger Property="Size" Value="Small">
                <Setter Property="Height" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeightSM}}" />
                <Setter Property="Padding" Value="{DynamicResource {x:Static local:DesignTokenKeys.PaddingXS}}" />
                <Setter Property="FontSize" Value="{DynamicResource {x:Static local:DesignTokenKeys.FontSize}}" />
            </Trigger>
            <Trigger Property="Size" Value="Large">
                <Setter Property="Height" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeightLG}}" />
                <Setter Property="Padding" Value="{DynamicResource {x:Static local:DesignTokenKeys.PaddingLG}}" />
                <Setter Property="FontSize" Value="{DynamicResource {x:Static local:DesignTokenKeys.FontSizeLG}}" />
            </Trigger>
        </Style.Triggers>
        <Setter Property="Padding" Value="{DynamicResource {x:Static local:DesignTokenKeys.PaddingMD}}" />
        <Setter Property="FontSize" Value="{DynamicResource {x:Static local:DesignTokenKeys.FontSize}}" />
        <Setter Property="Height" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeight}}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.ComponentBackground}}" />
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.BorderColor}}" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.TextPrimary}}" />
        <Setter Property="Effect" Value="{DynamicResource {x:Static local:DesignTokenKeys.BoxShadowSmall}}" />

        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AntRadioButton}">
                    <Grid>
                        <!--  Standard Border  -->
                        <Border
                            x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{DynamicResource {x:Static local:DesignTokenKeys.BorderRadius}}"
                            SnapsToDevicePixels="True" />

                        <!--  Dashed Border (Overlay)  -->
                        <Rectangle
                            x:Name="dashedBorder"
                            IsHitTestVisible="False"
                            RadiusX="{DynamicResource {x:Static local:DesignTokenKeys.BorderRadiusBase}}"
                            RadiusY="{DynamicResource {x:Static local:DesignTokenKeys.BorderRadiusBase}}"
                            Stroke="{TemplateBinding BorderBrush}"
                            StrokeDashArray="4 2"
                            StrokeThickness="{TemplateBinding BorderThickness}"
                            Visibility="Collapsed" />

                        <!--  Content Layout  -->
                        <DockPanel
                            Margin="{TemplateBinding Padding}"
                            HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                            VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                            LastChildFill="True">

                            <StackPanel
                                x:Name="IconPanel"
                                Margin="0,0,8,0"
                                DockPanel.Dock="Left"
                                Orientation="Horizontal">
                                <!--  Loading Icon  -->
                                <Path
                                    x:Name="LoadingIcon"
                                    Margin="0,0,8,0"
                                    Fill="{TemplateBinding Foreground}"
                                    Style="{StaticResource AntDesign.LoadingSpinner.Radio}"
                                    Visibility="Collapsed">
                                    <Path.RenderTransform>
                                        <RotateTransform Angle="0" />
                                    </Path.RenderTransform>
                                </Path>

                                <!--  Icon  -->
                                <TextBlock
                                    x:Name="IconText"
                                    Width="{TemplateBinding IconWidth}"
                                    Height="{TemplateBinding IconHeight}"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    FontFamily="{TemplateBinding IconFontFamily}"
                                    FontSize="{TemplateBinding IconFontSize,
                                                               Converter={x:Static converters:NanToUnsetValueConverter.Instance}}"
                                    Text="{TemplateBinding Icon}"
                                    TextAlignment="Center"
                                    Visibility="{TemplateBinding Icon,
                                                                 Converter={x:Static converters:StringVisibilityConverter.Instance}}" />
                            </StackPanel>

                            <!--  Content  -->
                            <ContentPresenter
                                x:Name="contentPresenter"
                                Width="{TemplateBinding ContentWidth}"
                                Height="{TemplateBinding ContentHeight}"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Focusable="False"
                                RecognizesAccessKey="True"
                                SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                Tag="{Binding ContentFontSize, RelativeSource={RelativeSource TemplatedParent}}">
                                <ContentPresenter.Resources>
                                    <Style TargetType="{x:Type TextBlock}">
                                        <Setter Property="FontSize">
                                            <Setter.Value>
                                                <MultiBinding Converter="{x:Static converters:FontSizeChooserConverter.Instance}">
                                                    <Binding Path="Tag" RelativeSource="{RelativeSource AncestorType=ContentPresenter}" />
                                                    <Binding Path="(TextElement.FontSize)" RelativeSource="{RelativeSource AncestorType=ContentPresenter}" />
                                                </MultiBinding>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                    <Style TargetType="{x:Type AccessText}">
                                        <Setter Property="FontSize">
                                            <Setter.Value>
                                                <MultiBinding Converter="{x:Static converters:FontSizeChooserConverter.Instance}">
                                                    <Binding Path="Tag" RelativeSource="{RelativeSource AncestorType=ContentPresenter}" />
                                                    <Binding Path="(TextElement.FontSize)" RelativeSource="{RelativeSource AncestorType=ContentPresenter}" />
                                                </MultiBinding>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </ContentPresenter.Resources>
                            </ContentPresenter>
                        </DockPanel>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <!--  Icon Placement Triggers  -->
                        <Trigger Property="IconPlacement" Value="Right">
                            <Setter TargetName="IconPanel" Property="DockPanel.Dock" Value="Right" />
                            <Setter TargetName="IconPanel" Property="Margin" Value="8,0,0,0" />
                        </Trigger>
                        <Trigger Property="IconPlacement" Value="Top">
                            <Setter TargetName="IconPanel" Property="DockPanel.Dock" Value="Top" />
                            <Setter TargetName="IconPanel" Property="Margin" Value="0,0,0,8" />
                            <Setter TargetName="IconPanel" Property="HorizontalAlignment" Value="Center" />
                        </Trigger>
                        <Trigger Property="IconPlacement" Value="Bottom">
                            <Setter TargetName="IconPanel" Property="DockPanel.Dock" Value="Bottom" />
                            <Setter TargetName="IconPanel" Property="Margin" Value="0,8,0,0" />
                            <Setter TargetName="IconPanel" Property="HorizontalAlignment" Value="Center" />
                        </Trigger>

                        <!--  Loading State  -->
                        <Trigger Property="Loading" Value="True">
                            <Setter TargetName="LoadingIcon" Property="Visibility" Value="Visible" />
                            <Setter Property="IsEnabled" Value="False" />
                            <Setter Property="Opacity" Value="0.7" />
                        </Trigger>

                        <!--  Icon Only  -->
                        <Trigger Property="Content" Value="{x:Null}">
                            <Setter TargetName="IconPanel" Property="Margin" Value="0" />
                        </Trigger>
                        <Trigger Property="Content" Value="">
                            <Setter TargetName="IconPanel" Property="Margin" Value="0" />
                        </Trigger>

                        <!--  =================================================================  -->
                        <!--  CHECKED STATES (The main difference from AntButton)  -->
                        <!--  =================================================================  -->

                        <!--  Type: Default (Outline style when checked)  -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Default" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Panel.ZIndex" Value="1" />
                        </MultiTrigger>

                        <!--  Type: Primary (Solid style when checked)  -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Primary" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.TextOnPrimary}}" />
                            <Setter Property="Panel.ZIndex" Value="1" />
                        </MultiTrigger>

                        <!--  Type: Dashed (Dashed Primary when checked)  -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Dashed" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Panel.ZIndex" Value="1" />
                        </MultiTrigger>

                        <!--  =================================================================  -->
                        <!--  STANDARD BUTTON STYLES (Adapted for RadioButton)  -->
                        <!--  =================================================================  -->

                        <!--  Type: Dashed (Base)  -->
                        <Trigger Property="Type" Value="Dashed">
                            <Setter TargetName="border" Property="Visibility" Value="Hidden" />
                            <Setter TargetName="dashedBorder" Property="Visibility" Value="Visible" />
                            <Setter Property="Effect" Value="{x:Null}" />
                        </Trigger>

                        <!--  Type: Text  -->
                        <Trigger Property="Type" Value="Text">
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="BorderThickness" Value="0" />
                            <Setter Property="Effect" Value="{x:Null}" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Text" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlItemBgActive}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                        </MultiTrigger>

                        <!--  Type: Link  -->
                        <Trigger Property="Type" Value="Link">
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="BorderThickness" Value="0" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Effect" Value="{x:Null}" />
                        </Trigger>

                        <!--  Hover States (Unchecked)  -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Default" />
                                <Condition Property="IsChecked" Value="False" />
                                <Condition Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                        </MultiTrigger>

                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Primary" />
                                <Condition Property="IsChecked" Value="False" />
                                <Condition Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                        </MultiTrigger>

                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Dashed" />
                                <Condition Property="IsChecked" Value="False" />
                                <Condition Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColorHover}}" />
                        </MultiTrigger>

                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Type" Value="Text" />
                                <Condition Property="IsChecked" Value="False" />
                                <Condition Property="IsMouseOver" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlItemBgHover}}" />
                        </MultiTrigger>

                        <!--  Shape: Circle  -->
                        <Trigger Property="Shape" Value="Circle">
                            <Setter Property="CornerRadius" Value="500" />
                            <Setter TargetName="dashedBorder" Property="RadiusX" Value="500" />
                            <Setter TargetName="dashedBorder" Property="RadiusY" Value="500" />
                            <Setter Property="Width" Value="{Binding RelativeSource={RelativeSource Self}, Path=ActualHeight}" />
                            <Setter Property="Padding" Value="0" />
                        </Trigger>

                        <!--  Shape: Round  -->
                        <Trigger Property="Shape" Value="Round">
                            <Setter Property="CornerRadius" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeight}}" />
                            <Setter TargetName="dashedBorder" Property="RadiusX" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeight}}" />
                            <Setter TargetName="dashedBorder" Property="RadiusY" Value="{DynamicResource {x:Static local:DesignTokenKeys.ControlHeight}}" />
                        </Trigger>

                        <!--  Disabled State  -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter Property="Opacity" Value="0.5" />
                            <Setter Property="Cursor" Value="Arrow" />
                            <Setter Property="Effect" Value="{x:Null}" />
                        </Trigger>

                        <!--  Focus State  -->
                        <Trigger Property="IsKeyboardFocused" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.PrimaryColor}}" />
                            <Setter Property="Effect" Value="{DynamicResource {x:Static local:DesignTokenKeys.BoxShadow}}" />
                            <Setter Property="Panel.ZIndex" Value="2" />
                        </Trigger>

                        <!--  Danger State  -->
                        <Trigger Property="Danger" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.ErrorColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.ErrorColor}}" />
                        </Trigger>
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="Danger" Value="True" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter Property="Background" Value="{DynamicResource {x:Static local:DesignTokenKeys.ErrorColor}}" />
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static local:DesignTokenKeys.ErrorColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static local:DesignTokenKeys.TextOnPrimary}}" />
                        </MultiTrigger>

                        <!--  Ghost State  -->
                        <Trigger Property="Ghost" Value="True">
                            <Setter Property="Background" Value="Transparent" />
                        </Trigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
