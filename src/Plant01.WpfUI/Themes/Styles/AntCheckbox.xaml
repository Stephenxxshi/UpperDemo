<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Plant01.WpfUI.Controls"
                    xmlns:themes="clr-namespace:Plant01.WpfUI.Themes">

    <Style TargetType="{x:Type controls:AntCheckbox}">
        <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.ComponentBackground}}" />
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.BorderColor}}" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextPrimary}}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Padding" Value="8,0,0,0" />
        <Setter Property="FontSize" Value="{DynamicResource {x:Static themes:DesignTokenKeys.FontSize}}" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="HorizontalContentAlignment" Value="Left" />
        <Setter Property="Cursor" Value="Hand" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AntCheckbox}">
                    <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Checkbox Box -->
                        <Border x:Name="checkBoxBorder"
                                Width="16"
                                Height="16"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="{DynamicResource {x:Static themes:DesignTokenKeys.BorderRadius}}"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
                            <Grid>
                                <!-- Check Mark -->
                                <Path x:Name="checkMark"
                                      Width="10"
                                      Height="10"
                                      Data="M9.17 2.17L3.5 7.83L1.33 5.67L0 7L3.5 10.5L10.5 3.5L9.17 2.17Z"
                                      Fill="{DynamicResource {x:Static themes:DesignTokenKeys.TextOnPrimary}}"
                                      Stretch="Uniform"
                                      Visibility="Collapsed" />
                                
                                <!-- Indeterminate Mark -->
                                <Path x:Name="indeterminateMark"
                                      Width="8"
                                      Height="8"
                                      Data="M0 4H8V6H0V4Z" 
                                      Fill="{DynamicResource {x:Static themes:DesignTokenKeys.TextOnPrimary}}"
                                      Stretch="Uniform"
                                      Visibility="Collapsed" 
                                      VerticalAlignment="Center"
                                      HorizontalAlignment="Center"/>
                            </Grid>
                        </Border>

                        <!-- Content -->
                        <ContentPresenter x:Name="contentPresenter"
                                          Grid.Column="1"
                                          Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          Focusable="False"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </Grid>

                    <ControlTemplate.Triggers>
                        <!-- Hover State (Unchecked) -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True" />
                                <Condition Property="IsChecked" Value="False" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}" />
                        </MultiTrigger>

                        <!-- Hover State (Checked) -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}" />
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}" />
                        </MultiTrigger>

                        <!-- Hover State (Indeterminate) -->
                        <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsMouseOver" Value="True" />
                                <Condition Property="IsChecked" Value="{x:Null}" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}" />
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}" />
                        </MultiTrigger>

                        <!-- Checked State -->
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}" />
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}" />
                            <Setter TargetName="checkMark" Property="Visibility" Value="Visible" />
                        </Trigger>

                        <!-- Indeterminate State -->
                        <Trigger Property="IsChecked" Value="{x:Null}">
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}" />
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}" />
                            <Setter TargetName="indeterminateMark" Property="Visibility" Value="Visible" />
                        </Trigger>

                        <!-- Disabled State -->
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="checkBoxBorder" Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.FillColor}}" />
                            <Setter TargetName="checkBoxBorder" Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.BorderColor}}" />
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextQuaternary}}" />
                            <Setter Property="Cursor" Value="Arrow" />
                        </Trigger>
                        
                        <!-- Disabled & Checked -->
                         <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsEnabled" Value="False" />
                                <Condition Property="IsChecked" Value="True" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="checkMark" Property="Fill" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextQuaternary}}" />
                        </MultiTrigger>
                        
                         <!-- Disabled & Indeterminate -->
                         <MultiTrigger>
                            <MultiTrigger.Conditions>
                                <Condition Property="IsEnabled" Value="False" />
                                <Condition Property="IsChecked" Value="{x:Null}" />
                            </MultiTrigger.Conditions>
                            <Setter TargetName="indeterminateMark" Property="Fill" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextQuaternary}}" />
                        </MultiTrigger>

                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
