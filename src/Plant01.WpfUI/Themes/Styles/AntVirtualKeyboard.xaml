<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Plant01.WpfUI.Controls"
                    xmlns:themes="clr-namespace:Plant01.WpfUI.Themes"
                    xmlns:converters="clr-namespace:Plant01.WpfUI.Converters"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <converters:VirtualKeyContentConverter x:Key="KeyContentConverter"/>

    <Style x:Key="KeyboardKeyStyle" TargetType="ButtonBase">
        <Setter Property="Margin" Value="{Binding KeyMargin, RelativeSource={RelativeSource AncestorType=controls:AntVirtualKeyboard}}"/>
        <Setter Property="Padding" Value="0"/>
        <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.ComponentBackground}}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.BorderColor}}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextPrimary}}"/>
        <Setter Property="FontSize" Value="{Binding KeyFontSize, RelativeSource={RelativeSource AncestorType=controls:AntVirtualKeyboard}}"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="Height" Value="{Binding KeyHeight, RelativeSource={RelativeSource AncestorType=controls:AntVirtualKeyboard}}"/>
        <Setter Property="Width" Value="{Binding KeyWidth, RelativeSource={RelativeSource AncestorType=controls:AntVirtualKeyboard}}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="ClickMode" Value="Press"/>
        <Setter Property="ContentTemplate">
            <Setter.Value>
                <DataTemplate>
                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center"
                               FontSize="{Binding KeyFontSize, RelativeSource={RelativeSource AncestorType=controls:AntVirtualKeyboard}}">
                        <TextBlock.Text>
                            <MultiBinding Converter="{StaticResource KeyContentConverter}">
                                <Binding Path="."/> <!-- The Content string (e.g. 'a') -->
                                <Binding Path="IsShiftEnabled" RelativeSource="{RelativeSource AncestorType=controls:AntVirtualKeyboard}"/>
                                <Binding Path="IsCapsLock" RelativeSource="{RelativeSource AncestorType=controls:AntVirtualKeyboard}"/>
                            </MultiBinding>
                        </TextBlock.Text>
                    </TextBlock>
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ButtonBase">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{DynamicResource {x:Static themes:DesignTokenKeys.BorderRadius}}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}"/>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorActive}}"/>
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorActive}}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="SpecialKeyStyle" BasedOn="{StaticResource KeyboardKeyStyle}" TargetType="ButtonBase">
        <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.FillColor}}"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <!-- Special keys usually don't need the converter, or they handle it differently. 
             If Content is 'Shift', the converter might return 'Shift' (default case). 
             But we might want to override the ContentTemplate for special keys if they use icons or static text. -->
    </Style>

    <Style x:Key="PrimaryKeyStyle" BasedOn="{StaticResource KeyboardKeyStyle}" TargetType="ButtonBase">
        <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}"/>
        <Setter Property="Foreground" Value="{DynamicResource {x:Static themes:DesignTokenKeys.TextOnPrimary}}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColor}}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ButtonBase">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{DynamicResource {x:Static themes:DesignTokenKeys.BorderRadius}}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" TextElement.Foreground="{TemplateBinding Foreground}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}"/>
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorHover}}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorActive}}"/>
                            <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PrimaryColorActive}}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type controls:AntVirtualKeyboard}">
        <Setter Property="Background" Value="{DynamicResource {x:Static themes:DesignTokenKeys.BodyBackground}}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static themes:DesignTokenKeys.BorderColor}}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="{DynamicResource {x:Static themes:DesignTokenKeys.PaddingMD}}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type controls:AntVirtualKeyboard}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="{DynamicResource {x:Static themes:DesignTokenKeys.BorderRadius}}"
                            Padding="{TemplateBinding Padding}"
                            Effect="{DynamicResource {x:Static themes:DesignTokenKeys.BoxShadow}}">
                        
                        <Grid>
                            <!-- Full Keyboard Layout -->
                            <Grid x:Name="FullKeyboard" Visibility="Collapsed">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Row 1: Numbers -->
                                <UniformGrid Rows="1" Columns="14">
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="`" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="`"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="1" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="1"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="2" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="2"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="3" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="3"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="4" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="4"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="5" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="5"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="6" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="6"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="7" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="7"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="8" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="8"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="9" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="9"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="0" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="0"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="-" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="-"/>
                                    <Button Style="{StaticResource KeyboardKeyStyle}" Content="=" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="="/>
                                    <RepeatButton Style="{StaticResource SpecialKeyStyle}" Content="←" Command="{Binding BackspaceCommand, RelativeSource={RelativeSource TemplatedParent}}" Delay="500" Interval="50"/>
                                </UniformGrid>

                                <!-- Row 2: QWERTY -->
                                <Grid Grid.Row="1" Margin="5,0">
                                    <UniformGrid Rows="1" Columns="14">
                                        <Button Style="{StaticResource SpecialKeyStyle}" Content="Tab" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="&#x09;"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="q" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="q"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="w" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="w"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="e" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="e"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="r" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="r"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="t" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="t"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="y" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="y"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="u" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="u"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="i" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="i"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="o" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="o"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="p" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="p"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="[" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="["/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="]" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="]"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="\" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="\"/>
                                    </UniformGrid>
                                </Grid>

                                <!-- Row 3: ASDF -->
                                <Grid Grid.Row="2" Margin="10,0">
                                    <UniformGrid Rows="1" Columns="13">
                                        <Button Style="{StaticResource SpecialKeyStyle}" Content="Caps" Command="{Binding CapsLockCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="a" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="a"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="s" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="s"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="d" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="d"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="f" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="f"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="g" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="g"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="h" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="h"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="j" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="j"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="k" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="k"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="l" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="l"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content=";" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter=";"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="'" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="'"/>
                                        <Button Style="{StaticResource PrimaryKeyStyle}" Content="Enter" Command="{Binding EnterCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    </UniformGrid>
                                </Grid>

                                <!-- Row 4: ZXCV -->
                                <Grid Grid.Row="3" Margin="15,0">
                                    <UniformGrid Rows="1" Columns="12">
                                        <Button Style="{StaticResource SpecialKeyStyle}" Content="Shift" Command="{Binding ShiftCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="z" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="z"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="x" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="x"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="c" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="c"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="v" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="v"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="b" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="b"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="n" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="n"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="m" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="m"/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="," Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter=","/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="." Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="."/>
                                        <Button Style="{StaticResource KeyboardKeyStyle}" Content="/" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="/"/>
                                        <Button Style="{StaticResource SpecialKeyStyle}" Content="Shift" Command="{Binding ShiftCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    </UniformGrid>
                                </Grid>

                                <!-- Row 5: Space & Controls -->
                                <Grid Grid.Row="4" Margin="0,5,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="100"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="100"/>
                                    </Grid.ColumnDefinitions>
                                    <Button Grid.Column="0" Style="{StaticResource SpecialKeyStyle}" Content="123" Command="{Binding SwitchModeCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    <Button Grid.Column="1" Style="{StaticResource KeyboardKeyStyle}" Content="Space" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter=" "/>
                                    <Button Grid.Column="2" Style="{StaticResource SpecialKeyStyle}" Content="Close" Command="{Binding CloseCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                </Grid>
                            </Grid>

                            <!-- Numeric Keyboard Layout -->
                            <Grid x:Name="NumericKeyboard" Visibility="Collapsed" Width="250">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Button Grid.Row="0" Grid.Column="0" Style="{StaticResource KeyboardKeyStyle}" Content="7" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="7"/>
                                <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource KeyboardKeyStyle}" Content="8" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="8"/>
                                <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource KeyboardKeyStyle}" Content="9" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="9"/>

                                <Button Grid.Row="1" Grid.Column="0" Style="{StaticResource KeyboardKeyStyle}" Content="4" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="4"/>
                                <Button Grid.Row="1" Grid.Column="1" Style="{StaticResource KeyboardKeyStyle}" Content="5" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="5"/>
                                <Button Grid.Row="1" Grid.Column="2" Style="{StaticResource KeyboardKeyStyle}" Content="6" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="6"/>

                                <Button Grid.Row="2" Grid.Column="0" Style="{StaticResource KeyboardKeyStyle}" Content="1" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="1"/>
                                <Button Grid.Row="2" Grid.Column="1" Style="{StaticResource KeyboardKeyStyle}" Content="2" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="2"/>
                                <Button Grid.Row="2" Grid.Column="2" Style="{StaticResource KeyboardKeyStyle}" Content="3" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="3"/>

                                <Button Grid.Row="3" Grid.Column="0" Style="{StaticResource KeyboardKeyStyle}" Content="0" Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="0"/>
                                <Button Grid.Row="3" Grid.Column="1" Style="{StaticResource KeyboardKeyStyle}" Content="." Command="{Binding KeyCommand, RelativeSource={RelativeSource TemplatedParent}}" CommandParameter="."/>
                                <RepeatButton Grid.Row="3" Grid.Column="2" Style="{StaticResource SpecialKeyStyle}" Content="←" Command="{Binding BackspaceCommand, RelativeSource={RelativeSource TemplatedParent}}" Delay="500" Interval="50"/>

                                <Button Grid.Row="4" Grid.Column="0" Style="{StaticResource SpecialKeyStyle}" Content="ABC" Command="{Binding SwitchModeCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                                <Button Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2" Style="{StaticResource PrimaryKeyStyle}" Content="Enter" Command="{Binding EnterCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </Grid>
                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="Mode" Value="Full">
                            <Setter TargetName="FullKeyboard" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="NumericKeyboard" Property="Visibility" Value="Collapsed"/>
                        </Trigger>
                        <Trigger Property="Mode" Value="Numeric">
                            <Setter TargetName="FullKeyboard" Property="Visibility" Value="Collapsed"/>
                            <Setter TargetName="NumericKeyboard" Property="Visibility" Value="Visible"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>